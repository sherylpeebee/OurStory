<div class="container">
    <div class="page-header">
        <h1 id="timeline">Timeline</h1>
        <!-- <a href="#"   ng-click="getUser" >click</a> -->
    </div>

      <!-- <a class="waves-effect waves-light btn" onclick="Materialize.toast('<span></span><a class=&quot;btn-flat yellow-text&quot; href=&quot;#!&quot;>Undo<a>', 5000)">Looks Good? Add it!</a> -->

      <ul class="fab-wrap">
        <li class="modal-trigger" href="#entryModal"><a class="btn-floating blue"><i class="material-icons fab">mode_edit</i></a></li>
        <li class="modal-trigger" href="#messageModal"><a class="btn-floating yellow darken-3 "><i class="material-icons fab">message</i></i></a></li>
      </ul>
    <!-- </div> -->

    <!-- Modal Structure -->
    <div id="entryModal" class="modal">
      <div class="modal-content">
          <h4 class="center-align modal-header valign">A New Page</h4>
        <div class="row">
            <form class="col s12" novalidate>
              <div class="row">
                <div class="input-field col s12">
                  <input placeholder="The Giants Game" id="title" type="text" class="validate modal-input" ng-model="story.title" required="true">
                  <label for="title">Title</label>
                </div>
                <div class="input-field col s12">
                  <textarea id="summary" class="materialize-textarea modal-input" placeholder="Last Saturday, we went to the game and ran into some old friends..." ng-model="story.summary" required="true"></textarea>
                  <label for="summary">What would you like to say?</label>
                </div>
              <div class="row">
                <div class="input-field col s4" id="datediv">
                  <input id="datepicker" class="validate modal-input" placeholder="select a date" ng-model="story.date">
                  <label for="date" id="datelabel">If no date is selected, default is today</label>
                </div>

                <div class="row">
                  <div class="row">
                    <input class="col s4" type="file" ng-model='file' id="myfile"  ng-click="getParams()" ><br>
                  </div>
                  <img id="imgPreview" src="" class="col s4" height="200" alt="Image preview...">

                  <div class="input-field col s4" id="imgUrlwrap">
                    <input placeholder="http://place.com/cool_pic.jpg" id="imgUrl" type="url" class="validate modal-input" ng-model="img.url">
                    <label for="imgUrl">Image Url</label>
                  </div>
                </div>
                <div class="input-field col s5 offset-s4" id="img_title_wrap" ng-show="showImgTitleField">
                  <input id="img_title" type="text" class="validate" required="true" ng-model="img.title">
                  <label for="img_title">Image Title</label>
                </div>
              </div>
              <div class="row" id="buttonsGroup">
              <a class="col s12" href="" id="resetLink">Reset file input</a>
              <button class="btn yellow darken-3 col s3"  type="button" name="button" ng-click='previewFile()' id="previewPic">Preview Picture</button>
                <button class="btn col s3" type="button" name="button" ng-click="addOnePhoto(img)">Add This Image</button>
              </div>
              </div>
                <div class="row">
                  <button class="btn col s12" type="submit" name="button" id="addStory" ng-click="addStory(story)">All Done!</button>
                </div>
            </form>
          </div>
      </div>
    </div>

    <div id="messageModal" class="modal">
      <div class="modal-content">
        <h4 class="center-align modal-header">Send a Message</h4>
        <p>A bunch of text</p>
      </div>
      <div class="modal-footer">
        <!-- <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Agree</a> -->
      </div>
    </div>
    {{story}}
    <ul class="timeline">
        <li ng-repeat="story in stories track by $index" >
          <div class="timeline-badge"></div>
          <div class="timeline-panel">
            <div class="timeline-heading">
              <h4 class="timeline-title">{{story.title}}</h4>
              <p><small class="text-muted">{{ story.created_at | date : longDate }}</small></p>
            </div>
            <div class="timeline-body">
              <p>{{story.story}}</p>
              <hr>
              <a ng-repeat="pic in story.pics track by $index" href="{{pic.url}}" data-lightbox="{{story.title}}" data-title="{{pic.caption}}">
                 <img ng-src="{{pic.url}}" alt="" class="thumbnail"/>
              </a>
            </div>
          </div>
        </li>

        <!-- <li ng-repeat="story in stories track by $index" ng-class="{timelineInverted: memberOne}">
          <div class="timeline-badge" ng-class="{warning: memberOne}"></div>
          <div class="timeline-panel">
            <div class="timeline-heading">
              <h4 class="timeline-title">{{story.title}}</h4>
              <p><small class="text-muted">{{ story.date }}</small></p>
            </div>
            <div class="timeline-body">
              <p>{{story.story}}</p>
              <hr>
              <a ng-repeat="pic in story.pics track by $index" href="{{pic.url}}" data-lightbox="{{story.title}}" data-title="{{pic.caption}}">
                 <img ng-src="{{pic.url}}" alt="" class="thumbnail"/>
              </a>
            </div>
          </div>
        </li> -->

    </ul>
</div>
